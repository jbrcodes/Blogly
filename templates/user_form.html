{% extends 'base.html' %}



{% if user is defined %}
    {% set title = 'Edit User' %}
    {% set action_url = url_for('edit_user', id=user.id) %}
    {% set submit_button_text = 'Save' %}
    {% set cancel_url = url_for('show_user', id=user.id) %}
{% else %}
    {% set user = {} %}
    {% set title = 'Add User' %}
    {% set action_url = url_for('new_user') %}
    {% set submit_button_text = 'Add' %}
    {% set cancel_url = url_for('list_users') %}
{% endif %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="row">
    <div class="offset-3 col-6">
        <h1>{{ title }}</h1>
    </div>

    <div class="offset-3 col-6">
        <form class="border rounded p-3" action="{{ action_url }}" method="POST">
            <div class="form-group">
                <label for="first_name">First Name</label>
                <input class="form-control" id="first_name" name="first_name" 
                    type="text" value="{{ user.first_name|default('') }}" required>
            </div>
    
            <div class="form-group">
                <label for="last_name">Last Name</label>
                <input class="form-control" id="last_name" name="last_name" 
                    type="text" value="{{ user.last_name|default('') }}" required>
            </div>
    
            <div class="form-group">
                <label for="image_url">Image URL</label>
                <input class="form-control" id="image_url" name="image_url" 
                    type="text" value="{{ user.image_url|default('') }}" required>
            </div>
    
            <div class="form-group mb-0 text-right">
                <button type="submit" class="btn btn-primary">{{ submit_button_text }}</button>
                <a class="btn btn-outline-primary" href="{{ cancel_url }}">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}